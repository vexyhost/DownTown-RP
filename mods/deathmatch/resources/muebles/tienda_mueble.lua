tiendaMuebles = { 				
			[0] = {			[1] = {IDMueble = 1741, Nombre = "Armario 1", Precio = 120 },
							[2] = {IDMueble = 2167, Nombre = "Armario 2", Precio = 120 },
							[3] = {IDMueble = 2025, Nombre = "Armario 3", Precio = 120 },
							[4] = {IDMueble = 2131, Nombre = "Armario 4", Precio = 120 },
							[5] = {IDMueble = 2336, Nombre = "Armario 5", Precio = 120 }},
			
			[1] = { 		[1] = {IDMueble = 1700, Nombre = "Cama 1", Precio = 300 },
							[2] = {IDMueble = 1701, Nombre = "Cama 2", Precio = 300 },
							[3] = {IDMueble = 1725, Nombre = "Cama 3", Precio = 300 },
							[4] = {IDMueble = 1794, Nombre = "Cama 4", Precio = 300 },
							[5] = {IDMueble = 1798, Nombre = "Cama 5", Precio = 300 },
							[6] = {IDMueble = 2299, Nombre = "Cama 6", Precio = 300 },
							[7] = {IDMueble = 2603, Nombre = "Cama 7", Precio = 300 },
							[8] = {IDMueble = 2302, Nombre = "Cama 8", Precio = 300 },
							[9] = {IDMueble = 14866, Nombre = "Cama 9", Precio = 300 },
							[10] = {IDMueble = 2300, Nombre = "Cama 10", Precio = 300 },
							[11] = {IDMueble = 2301, Nombre = "Cama 11", Precio = 300 },
							[12] = {IDMueble = 2090, Nombre = "Cama 12", Precio = 300 },
							[13] = {IDMueble = 14446, Nombre = "Cama 13", Precio = 300 },
							[14] = {IDMueble = 2298, Nombre = "Cama 14", Precio = 300 },
							[15] = {IDMueble = 1812, Nombre = "Cama 15", Precio = 300 },
							[16] = {IDMueble = 1797, Nombre = "Cama 16", Precio = 300 },
							[17] = {IDMueble = 1745, Nombre = "Cama 17", Precio = 300 },
							[18] = {IDMueble = 1793, Nombre = "Cama 18", Precio = 300 },
							[19] = {IDMueble = 1796, Nombre = "Cama 19", Precio = 300 },
							[20] = {IDMueble = 1795, Nombre = "Cama 20", Precio = 300 },
							[21] = {IDMueble = 1799, Nombre = "Cama 21", Precio = 300 },
							[22] = {IDMueble = 1800, Nombre = "Cama 22", Precio = 300 },
							[23] = {IDMueble = 1801, Nombre = "Cama 23", Precio = 300 },
							[24] = {IDMueble = 1802, Nombre = "Cama 24", Precio = 300 },
							[25] = {IDMueble = 1803, Nombre = "Cama 25", Precio = 300 },
							[26] = {IDMueble = 14861, Nombre = "Cama 26", Precio = 300 },
							[27] = {IDMueble = 2575, Nombre = "Cama 27", Precio = 300 },
							[28] = {IDMueble = 1646, Nombre = "Cama 28", Precio = 300 }},
			
			[2] = {			[1] = {IDMueble = 2290, Nombre = "Sofa 1", Precio = 200 },
							[2] = {IDMueble = 1768, Nombre = "Sofa 2", Precio = 200 },
							[3] = {IDMueble = 1766, Nombre = "Sofa 3", Precio = 200 },
							[4] = {IDMueble = 1764, Nombre = "Sofa 4", Precio = 200 },
							[5] = {IDMueble = 1763, Nombre = "Sofa 5", Precio = 200 },
							[6] = {IDMueble = 1761, Nombre = "Sofa 6", Precio = 200 },
							[7] = {IDMueble = 1760, Nombre = "Sofa 7", Precio = 200 },
							[8] = {IDMueble = 1757, Nombre = "Sofa 8", Precio = 200 },
							[9] = {IDMueble = 1756, Nombre = "Sofa 9", Precio = 200 },
							[10] = {IDMueble = 1753, Nombre = "Sofa 10", Precio = 200 },
							[11] = {IDMueble = 1713, Nombre = "Sofa 11", Precio = 200 },
							[12] = {IDMueble = 1712, Nombre = "Sofa 12", Precio = 200 },
							[13] = {IDMueble = 1710, Nombre = "Sofa 13", Precio = 200 },
							[14] = {IDMueble = 1709, Nombre = "Sofa 14", Precio = 200 },
							[15] = {IDMueble = 1707, Nombre = "Sofa 15", Precio = 200 },
							[16] = {IDMueble = 1706, Nombre = "Sofa 16", Precio = 200 },
							[17] = {IDMueble = 1703, Nombre = "Sofa 17", Precio = 200 },
							[18] = {IDMueble = 1702, Nombre = "Sofa 18", Precio = 200 }},
			
			[3] = { 		[1] = {IDMueble = 1720, Nombre = "Silla 1", Precio = 30 },
							[2] = {IDMueble = 1739, Nombre = "Silla 2", Precio = 30 },
							[3] = {IDMueble = 1806, Nombre = "Silla 3", Precio = 30 },
							[4] = {IDMueble = 1810, Nombre = "Silla 4", Precio = 30 },
							[5] = {IDMueble = 2125, Nombre = "Silla 5", Precio = 30 },
							[6] = {IDMueble = 2079, Nombre = "Silla 6", Precio = 30 },
							[7] = {IDMueble = 2096, Nombre = "Silla 7", Precio = 30 },
							[8] = {IDMueble = 2120, Nombre = "Silla 8", Precio = 30 },
							[9] = {IDMueble = 2121, Nombre = "Silla 9", Precio = 30 },
							[10] = {IDMueble = 2123, Nombre = "Silla 10", Precio = 30 },
							[11] = {IDMueble = 2124, Nombre = "Silla 11", Precio = 30 },
							[12] = {IDMueble = 1671, Nombre = "Silla 12", Precio = 30 },
							[13] = {IDMueble = 1714, Nombre = "Silla 13", Precio = 30 },
							[14] = {IDMueble = 1715, Nombre = "Silla 14", Precio = 30 },
							[15] = {IDMueble = 1722, Nombre = "Silla 15", Precio = 30 },
							[16] = {IDMueble = 2350, Nombre = "Silla 16", Precio = 30 },
							[17] = {IDMueble = 1663, Nombre = "Silla 17", Precio = 30 },
							[18] = {IDMueble = 2636, Nombre = "Silla 18", Precio = 30 },
							[19] = {IDMueble = 2788, Nombre = "Silla 19", Precio = 30 },
							[20] = {IDMueble = 1735, Nombre = "Sillón 1", Precio = 100 },
							[21] = {IDMueble = 1754, Nombre = "Sillón 2", Precio = 100 },
							[22] = {IDMueble = 1755, Nombre = "Sillón 3", Precio = 100 },
							[23] = {IDMueble = 1758, Nombre = "Sillón 4", Precio = 100 },
							[24] = {IDMueble = 1759, Nombre = "Sillón 5", Precio = 100 },
							[25] = {IDMueble = 1762, Nombre = "Sillón 6", Precio = 100 },
							[26] = {IDMueble = 1765, Nombre = "Sillón 7", Precio = 100 },
							[27] = {IDMueble = 1767, Nombre = "Sillón 8", Precio = 100 },
							[28] = {IDMueble = 1769, Nombre = "Sillón 9", Precio = 100 },
							[29] = {IDMueble = 2291, Nombre = "Sillón 10", Precio = 100 },
							[30] = {IDMueble = 2292, Nombre = "Sillón 11", Precio = 100 },
							[31] = {IDMueble = 1704, Nombre = "Sillón 12", Precio = 100 },
							[32] = {IDMueble = 1727, Nombre = "Sillón 13", Precio = 100 }},
			
			[4] = { 		[1] = {IDMueble = 1518, Nombre = "TV 1", Precio = 350 },
							[2] = {IDMueble = 1747, Nombre = "TV 2", Precio = 350 },
							[3] = {IDMueble = 1748, Nombre = "TV 3", Precio = 350 },
							[4] = {IDMueble = 1749, Nombre = "TV 4", Precio = 350 },
							[5] = {IDMueble = 1750, Nombre = "TV 5", Precio = 350 },
							[6] = {IDMueble = 1751, Nombre = "TV 6", Precio = 350 },
							[7] = {IDMueble = 1752, Nombre = "TV 7", Precio = 350 },
							[8] = {IDMueble = 1781, Nombre = "TV 8", Precio = 350 },
							[9] = {IDMueble = 1786, Nombre = "TV 9", Precio = 350 },
							[10] = {IDMueble = 2595, Nombre = "TV 10", Precio = 350 },
							[11] = {IDMueble = 2311, Nombre = "Estante de TV 1", Precio = 200 },
							[12] = {IDMueble = 2313, Nombre = "Estante de TV 2", Precio = 200 },
							[13] = {IDMueble = 2314, Nombre = "Estante de TV 3", Precio = 200 },
							[14] = {IDMueble = 2315, Nombre = "Estante de TV 4", Precio = 200 },
							[15] = {IDMueble = 2321, Nombre = "Estante de TV 5", Precio = 200 },
							[16] = {IDMueble = 2346, Nombre = "Estante de TV 6", Precio = 200 }},
			
			[5] = { 		[1] = {IDMueble = 1208, Nombre = "Lavadora", Precio = 50 },
							[2] = {IDMueble = 2332, Nombre = "Caja fuerte", Precio = 500 },
							[3] = {IDMueble = 2514, Nombre = "WC", Precio = 50 },
							[4] = {IDMueble = 2690, Nombre = "Extintor", Precio = 300 },
							[5] = {IDMueble = 2099, Nombre = "Radio 1", Precio = 50 },
							[6] = {IDMueble = 2100, Nombre = "Radio 2", Precio = 50 }},
							
			[6] = {			[1] = {IDMueble = 2629, Nombre = "Barra de pesas", Precio = 300 },
							[2] = {IDMueble = 2630, Nombre = "Bicicleta estática", Precio = 300 }}				
							}
			-- Pesas ID 3071 y 3072 desactivadas hasta futura implementación.				
function getInfoIDMueble(IDMueble)
	if IDMueble then
		for i = 0, 6 do
			for k, v in ipairs(tiendaMuebles[i]) do
				if tostring(v.IDMueble) == tostring(IDMueble) then
					return tostring(v.Nombre), tostring(v.Precio), tonumber(i)
				end
			end
		end
	end
end
							
addEvent("displaymuebles",true)
addEventHandler("displaymuebles",getRootElement(),
function(categoria)
	if source and client and source == client then
		if categoria == 7 then
			local misMuebles = {}
			exports.items:load(client, true)
			local itemT = exports.items:get(client)
			for k, v in ipairs(itemT) do
				if tonumber(v.item) == 27 then
					local Nombre, Precio = getInfoIDMueble(tonumber(v.value))
					tLoc = {}
					tLoc["IDMueble"] = tonumber(v.value)
					tLoc["Nombre"] = tostring(Nombre)
					tLoc["Precio"] = tostring(Precio)
					table.insert(misMuebles, tLoc)
				end
			end
			triggerClientEvent(client,"displayMuebleOn",client,misMuebles, 7)
		else
			triggerClientEvent(client,"displayMuebleOn",client,tiendaMuebles[categoria], categoria)
		end
	end
end)

function quitarMuebleFromIDMueble(player, IDMueble)
	if player and IDMueble then
		local itemP = exports.items:get(player)
		for k, v in ipairs(itemP) do
			if tonumber(v.item) == 27 and tonumber(v.value) == tonumber(IDMueble) then
				if exports.items:take(player, k) then
					return true
				end
			end
		end
	end
end

function gestionarMueble(IDMueble, tipo)
	if IDMueble and tipo and source and client and source == client then
		local Nombre, Precio, Categoria = getInfoIDMueble(tonumber(IDMueble))
		if tipo == 1 then -- Comprar el mueble.
			if exports.players:takeMoney(source, tonumber(Precio)) then
				outputChatBox("Has comprado el mueble "..tostring(Nombre).." por "..tostring(Precio).."$.", source, 0, 255, 0)
				outputChatBox("Pulsa en Mis Muebles para poder colocarlo a tu gusto.", source, 0, 255, 0)
				exports.items:give(source, 27, tonumber(IDMueble), tostring(Nombre))
			else
				outputChatBox("¡No tienes los "..tostring(Precio).."$ para comprar el mueble "..tostring(Nombre).."!", source, 255, 0, 0)
			end
		elseif tipo == 3 then -- Colocar el mueble
			if quitarMuebleFromIDMueble ( source, tonumber(IDMueble) ) then
				triggerEvent("onCrearMueble", source, source, tonumber(IDMueble))
			end
		elseif tipo == 4 then -- Vender el mueble
			local Nombre, Precio, Categoria = getInfoIDMueble(tonumber(IDMueble))
			if quitarMuebleFromIDMueble ( source, tonumber(IDMueble) ) then
				outputChatBox("Has vendido el mueble "..tostring(Nombre).." por "..tostring(tonumber(Precio/2)).."$.", source, 0, 255, 0)
				exports.players:giveMoney(source, tonumber(Precio/2))
			else
				outputChatBox("¡No tienes ese mueble para poder venderlo!", source, 255, 0, 0)
			end
		end
	end
end
addEvent("onGestionMueble", true)
addEventHandler("onGestionMueble", getRootElement(), gestionarMueble)

-- ABRIR GUI MUEBLES
--triggerClientEvent(hitElement,"showTiendaMuebles",hitElement)